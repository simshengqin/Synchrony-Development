<app-header></app-header>
<div class="account-create-wrapper wrapper-padding">
    
    <!-- <h1 class="mb-3"> Edit Assignments </h1> -->
    <div class="container">
        <!-- Segment 1: Title & Due Date -->
        <h2> Title </h2>
        <!-- ROW -->
        <div class="row">
            <div class="form-outline col-8">
                <span> Title: </span> 
                <input type="text" class="form-control form-control-lg" placeholder="Title" [(ngModel)]="assignmentName"/>
            </div>
        </div>
        <br>
        <!-- Segment 2: Due Date and time  -->
        <h2> Due Date and Time  </h2>

        <!-- ROW -->
        <div class="row">
            <div class="form-outline col-4">
                <span> Due Date: </span>
                <input type="date" class="form-control form-control-lg" [(ngModel)]='assignmentDueDate'/>
            </div>
            <div class="form-outline col-4">
                <span> Due Time: </span>
                <input type="time" class="form-control form-control-lg" [(ngModel)]='assignmentDueTime'/>
            </div>
        </div>
        <br>
        <!-- Segment 3: Assignment School Instrument Level  -->
        <h2> Class </h2>
        <!-- ROW -->
        <div clas="row">
            
        </div>
        <div class="row">
            <div class="form-outline col-3" *ngIf="displaySchool">
                <app-input-select id="testSchool" [inputDataList]="schools" [name]="nameSchool" (outputData)="get_query_data_school($event)"></app-input-select>
            </div>
            <div class="form-outline col-3" *ngIf="displayInstruments">
                <app-input-select [inputDataList]="queriedInstruments" [name]="nameInstrument" (outputData)="get_query_data_instrument($event)"></app-input-select>
            </div>
            <div class="form-outline col-3" *ngIf="displayLevels">
                <app-input-select [inputDataList]="queriedLevels" [name]="nameLevels" (outputData)="get_query_data_level($event)"></app-input-select>
            </div>
            <div class="form-outline col-3" *ngIf="displayInstruments">
                <button type="button" mdbBtn color="success" mdbWavesEffect (click)="add()"> Add </button>
            </div>
        </div>
        <!-- ROW -->
        <div class="row">
            <div class="form-outline col-12">
                <span> Selected: </span> <br>
                <button type="button" class="btn btn-primary" *ngFor="let buttonText of assignmentSchoolInstrumentLevel; let i = index;" (click)="removeButton(i)"> {{buttonText}} <span class="badge bg-danger ms-2"> X </span> </button>
                <button *ngIf="addSchoolInstrumentsLevels" type="button" class="btn btn-success" (click)="add_display_school_instrument_level()" > + Add </button>
            </div>
        </div>
        <br>
        <!-- Segment 4: Assignment School Instrument Level  -->
        <div class="row">
            <h2> Description: </h2>
            <div class="col-12">
                <textarea rows="4" cols="80" [(ngModel)]="assignmentDescription"></textarea>
            </div>
        </div>
        <br>
        <!-- Segment 5: Assignment School Instrument Level  -->
        <div class="row">
            <h2> Files: </h2>
        </div>
        <div class="row">
            <!-- Column 1-->
            <div class="col-6">
                <h2> Current Files: </h2>
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col"> #</th> <th scope="col"> File Name</th> <th scope="col"> View </th> <th scope="col"> Remove </th>
                    </tr>
                    </thead>
                    <tbody>
                    
                    <tr *ngFor="let ele of assignmentFileNames; let i = index">
                        <th scope="row"> {{i+1}}</th>
                        <td> <h4> {{ele}} </h4> </td>
                        <td> <app-dialog-box [actionType]="actionType" [fileLocationPath]="fileLocationPath" [fileName]="ele"></app-dialog-box></td>
                        <td> <button type="button" mdbBtn color="danger" mdbWavesEffect (click)="delete_file(ele)"> Remove </button> </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- Column 2-->
            <div class="col-6">
                <h2> Upload New Files: </h2>
                <app-dropzone [acceptMultipleFiles]="acceptMultipleFiles" [label]="label" [acceptedFileTypes]="acceptedFileTypes" (fileEmit)="addFiles($event)"></app-dropzone>
            </div>
        <div> <!-- End of row -->
        <!-- Segment 6: Assignment School Instrument Level  -->
        <div class="row">
            <div class="float-end"> 
                <app-dialog-box [actionType]="actionTypeCancel"></app-dialog-box>
                <button type="button" mdbBtn color="success" (click)="onSubmit()" mdbWavesEffect> Update </button> 
            </div>
        </div>
    <div> <!-- End of Container -->
</div>
