language: node_js
node_js:
- 10.15.1
cache:
  directories:
  - node_modules
branches:
  only:
  - main
  - staging
before_script:
- npm install
script:
- if [[ "$TRAVIS_BRANCH" = "main" || "$TRAVIS_BRANCH" = "staging" ]]; then npm run
  build; else echo "not a build branch"; fi
before_deploy:
- cd $TRAVIS_BUILD_DIR
- sed -i '/dist/d' .gitignore
- git add . && git commit -m "latest build"
deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: "Encrypted <access-key-id>=Y8RTB5K76geTgU8/bK99hvwdWr2wrSthmnT2b6ARisocrwzN5nsWbqTUTz2EWLv0INRiBC/XRUZTrhhoymSxHCg/E0yiaxPphOPcCBjdbc4ULlkKB37wdcLvaOwdCpitR5SvSsMFj5Y7mqah7p8hhsBurnEnl8GRZYHravp+wFw02QWMqPW+KH4kaaqYlHsduQ3PDyMnh7C/2hgE8DpZ1/wlrPLhw5oxum8w+FEwe6PsMRI4aoP7+6H07frhRqjCAI+ykrR1MyU1tVgGqvFcESO1PkQqBoAKRVAh1aYQwdNZGcQygLaxye9O/VIrpluw06hS3zN5NpF6AwWTNclS7rdHcqeDOtIZBpnHzXG2jEs417iuq85u1dNw9gmF6cmx+mqM/Ohcp6d1280UQ462Q7Gk3w07Q+4GzdvzXuoSUubSxzCcOQifbOODHvHJA/hyXkLObuwizppHU20xA4HCWV4mBf/cpYVwz0UFKQJxUvF/B3pKXUIyvPHmrNLyKS7aNb2m3r4uzTo/95ssa8C2mSdHMDDg0qQ8Wy5gbuOdl3UcHhXY375N0xSBfS90ypoJfxzDX5p0xpKdm1/3+n2eIXMSul3d1KHWsv4ixNmCsdPz5HM6M5v7vHJAMcqG+PBa3TSwlR0IfCEMlefnT99rzkCWC0S+yA3u7lWTK0Tqy80=
"
  secret_access_key:
    secure: "Encypted <secret-access-key>=KiHl+WYDi+LX21/fsu5ZNInsmZhnbJ3ZrCRBAEBB19vWJjNrtLxGT2TCYjTpqMQtKtzfzcYx7Pv4buVqSLhnsrrpt01eMbh+aoNwEaKRtzqFUJDOcs7OdpxCkvE4fQyV//1/zDGGoCzBzfGXtO5i5vvg6ykGj5jmY3UKx/pmJ85QZeWrFNmETXwIybloW0rKqdjUMacOnurhY+9aQLiNSlTAZCvdT96KvMXPbcKE8kImZFxy1mMdLgAXAio5GFbn+AtsrX7ixYwu3EUUxzcp1DlnOfpf2tBPrYGBXhgO/Gk3o2TCYVoKhQhCv26uwnRXHAm/dPcdNRhG/qZXAyN9eQoP8U+K/1W4htatbBgjnUnbzZTsMJZGo/k9zgqKi0YmYUKTWehex+UFG9+DX2VmvsuFfjIat/dLGok+X4p5vadXb9XrA0qNHhyO54UE95OWNh6jM0wlu7s1BcwCnY/+kN2Z5UezwxOdCG03YCmnsNrPk3vg34MunmyBqeAGJqL7xs4K7Q5yBTrVBINyJEQno98+AjxlBLO/qh4DUYUGSP7T50ucY0Y8S9RqQIXrhdI8Daa07K2HcjVcg0DydKl/szl+EIqm2897YdyBKp/TpAW7uEL67lpLHRat0JxnBzA2oC4bS54Bt4C+Fw9v1GPF6f3LbSzRmfrCeo7t9U8BXXE=" 

  region: ap-southeast-1
  app: Synchrony"
  env: Synchrony-env
  bucket_name: elasticbeanstalk-ap-southeast-1-156257273650
  on:
    branch: main
after_deploy:
- echo "Applcation Deployed!"
